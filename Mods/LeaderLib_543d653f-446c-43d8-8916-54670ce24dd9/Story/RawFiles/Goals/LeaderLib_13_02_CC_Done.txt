Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION

IF
StoryEvent(_, "LeaderLib_Initialized")
THEN
IterateUsers("LeaderLib_Iterator_CC_SetPreset");
TimerCancel("LeaderLib_Timers_PostCC_Finished");
TimerLaunch("LeaderLib_Timers_PostCC_Finished", 250);

IF
UserEvent(_UserID, "LeaderLib_Iterator_CC_SetPreset")
AND
DB_LeaderLib_CC_Temp_SelectedPreset(_UserID, _Preset)
AND
DB_IsPlayer(_Player)
AND
CharacterGetReservedUserID(_Player, _UserID)
AND
CharacterIsControlled(_Player, 1)
THEN
NOT DB_LeaderLib_CC_Temp_SelectedPreset(_UserID, _Preset);
LeaderLog_Log("DEBUG", "[LeaderLib:CC:LeaderLib_Initialized] Player selected preset [",_Preset,"] in Character Creation.");
SetVarFixedString(_Player, "LeaderLib_CharacterCreationPreset", _Preset);

IF
TimerFinished("LeaderLib_Timers_PostCC_Finished")
AND
DB_LeaderLib_CC_Temp_SelectedPreset(_UserID, _Preset)
THEN
NOT DB_LeaderLib_CC_Temp_SelectedPreset(_UserID, _Preset);

IF
TimerFinished("LeaderLib_Timers_PostCC_Finished")
THEN
GoalCompleted;

EXITSECTION

ENDEXITSECTION
ParentTargetEdge "LeaderLib_13_00_CharacterCreation"